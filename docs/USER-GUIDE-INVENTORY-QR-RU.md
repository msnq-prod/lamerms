# Как быстро занести весь склад и начать пользоваться QR‑кодами (очень простая инструкция)

Ниже — максимально простой путь: от «у меня просто список техники» до наклеенных QR и сканирования с телефона/ноутбука.

## Что нужно заранее
- Доступ в приложение: http://localhost:8080 (после установки).
- Логин и пароль. Если входите впервые — смените пароль в профиле.
- Принтер (обычный или этикеточный) и бумага/этикетки.

## Шаг 1. Зайдите в приложение
- Откройте: http://localhost:8080
- Введите логин/пароль. Если не пускает или нет пункта меню — обратитесь к администратору.

## Шаг 2. Если нужно — создайте справочники (1 раз)
Это поможет аккуратно разложить технику по производителям и категориям.
- Производители: меню «Manufacturers» → добавьте нужных (можно пропустить и указать потом).
- Категории: меню «Instances» → «Custom Categories» — проверьте, что нужные категории есть.

Совет: если не уверены — можно пропустить и вернуться позже. При импорте производитель создастся автоматически, а категорию нужно будет выбрать из списка.

## Шаг 3А. Внесение вручную (подходит для малого списка)
1) Откройте «Add new Asset»: http://localhost:8080/newAsset.php
- Manufacturer — выберите производителя (или «Manufacturer unknown»).
- Asset Type — выберите тип техники или нажмите «Add new type» и заполните имя/описание/категорию.
- Asset Groups — можно указать группу (необязательно).
- Asset Tag — это инвентарный номер (можно оставить пустым — система придумает сама).
- Notes и доп. поля — по желанию.
- Нажмите «Save». Кнопка превратится в «Add Another» — удобно добавлять много однотипных единиц подряд.

Повторите для всего списка.

## Шаг 3Б. Массовый импорт из таблицы (для большого списка)
1) Откройте импорт: http://localhost:8080/server/import.php
- Нажмите «Download a template» — скачайте шаблон CSV.
- Ниже на странице есть таблица категорий с их ID — они понадобятся.

2) Заполните CSV (любой редактор таблиц):
- Обязательные колонки минимум:
  - `assetTypes_name` — имя типа техники (например, «LED Par 64»).
  - `assetCategories_id` — ID категории (смотрите таблицу на странице импорта).
  - `manufacturers_name` — производитель (новый создастся автоматически).
- Полезные опциональные поля:
  - `assets_tag` — ваш инвентарный номер (если пусто — сгенерируется автоматически).
  - `assetTypes_mass`, `assetTypes_dayRate`, `assetTypes_weekRate`, `assetTypes_value` — масса/ставки/стоимость.
  - `assetType_definableFieldsName_1..10` и `asset_definableFields_1..10` — названия и значения доп. полей.
- Если у вас «список с количеством» — продублируйте строку столько раз, сколько штук.
- Сохраните файл в формате CSV (разделитель — запятая).

3) Загрузите CSV на странице импорта и выберите ваш «Instance» (организацию).
- После импорта увидите, что создалось, а что не получилось (с причинами).

Примечание: при импорте штрихкоды/QR не добавляются сразу — их удобно сгенерировать и распечатать отдельным шагом (ниже).

## Шаг 4. Сгенерируйте и распечатайте QR‑коды
1) Откройте генератор: http://localhost:8080/maintenance/barcodeGenerator.php
- В блоке «Assets» найдите и отметьте нужные позиции (можно выбрать все по очереди). По желанию укажите «Groups» — чтобы печатать для целых групп.
- Поле «Blanks» — печать пустых QR/штрихкодов, которые можно наклеить заранее и привязать позже.

2) В «Settings» выберите:
- Barcode Type → «QR Code» (по умолчанию уже выбран).
- Нажмите «Generate Sticker Printout» — откроется лист с наклейками.
- В окне печати браузера выберите ваш принтер/этикетки, масштаб 100%, печать фона включена.

Подсказка: если нужны просто значения кодов списком — «Generate Table of Barcodes».

## Шаг 5. Наклейте QR‑коды на технику
- Наклейку клеим на видное место, чтобы камере было удобно сфокусироваться.
- Для маленьких предметов выбирайте покрупнее модуль QR (не уменьшайте слишком сильно при печати).

## Шаг 6. Сканируйте и ведите учёт местоположения
1) Откройте сканер: http://localhost:8080/maintenance/barcode.php
- Впервые дайте доступ к камере.
- Сначала установите «Current Location»:
  - Просканируйте штрихкод локации, или
  - Нажмите «Change location» и выберите из списка, или
  - «Custom location» — впишите текст вручную.
- Нажмите «Start Scanning Assets» и сканируйте QR на технике — она появится в списке, а местоположение сохранится.
- Можно открыть карточку техники («View Asset») или удалить привязку штрихкода («Delete Barcode»).

2) Как распечатать штрихкод Локации (склада/полки/комнаты):
- Откройте Локации: http://localhost:8080/location/
- Рядом с нужной локацией нажмите иконку штрихкода — откроется лист на печать. Наклейте у входа/на полке.

Если при сканировании код «неизвестен» — система попросит привязать его к существующей технике (или вы можете создать новую).

## Где посмотреть штрихкоды техники
- Откройте любой «Asset» (страница техники) — вкладка «Barcodes». Там видны коды и последние сканы/локации.

## Частые вопросы
- Не вижу нужного пункта меню / нет доступа?
  - Попросите администратора выдать права (создание активов, импорт, штрихкоды).
- QR не читается с телефона/ноутбука?
  - Поставьте яркий свет, печатайте без сильной миниатюризации, выберите «QR Code», убедитесь, что камера сфокусировалась.
- Хотим завести «склад по списку» без лишних полей?
  - Для быстроты заполните в CSV только `assetTypes_name`, `assetCategories_id`, `manufacturers_name`, при необходимости `assets_tag`. Остальное — позже в интерфейсе.

Готово! После этих шагов склад в базе, QR‑коды наклеены, можно сканировать и видеть где что лежит.

## Ручной сканер QR/штрихкодов (USB/Bluetooth)
Если у вас есть ручной сканер, его можно использовать для ускорения работы. Большинство сканеров умеют работать в режиме «клавиатуры» (HID): после сканирования они «вбивают» код туда, где стоит курсор, и нажимают Enter.

Как настроить сканер
- Режим: HID Keyboard (клавиатура). Не нужен отдельный драйвер.
- Суффикс: добавьте «Enter» (CR/LF) после кода — так поле автоматически отправится.
- Типы кодов: включите чтение QR Code и/или Code 128 — смотря какие этикетки печатаете в генераторе.

Где использовать сканер в системе
- Быстрый поиск и открытие карточки:
  - Откройте «Assets»: http://localhost:8080/assets.php
  - Поставьте курсор в поле «Tag» или «Keyword» и просканируйте QR/штрихкод. Найденный актив откройте кликом.
- Быстрое действие в проекте (отгрузка/приёмка по тегу):
  - Откройте нужный проект → вкладка с доской активов (Board).
  - В поле «Scan/Enter Asset Tag» поднесите сканер и отсканируйте — запись переместится в нужный статус (по логике проекта).
- Фиксация местоположения без камеры:
  - В карточке актива есть кнопки «Manually pick location / set within another asset / Custom Location» — можно задать локацию вручную.
  - Лайфхак: найдите актив сканером на странице «Assets», откройте его и задайте локацию вручную — быстро и без камеры.
- Привязка «пустых» этикеток:
  - Ассоциация «пустых» кодов с активом удобнее всего на странице сканера с камерой: http://localhost:8080/maintenance/barcode.php (при неизвестном коде система предложит привязать его к активу).
  - Через ручной сканер «в одно действие» это сейчас не доступно: используйте камеру или создайте штрихкод прямо из карточки актива («Generate/Export Barcodes»).

Подсказки и частые проблемы со сканером
- Сканер не «печатает» в поле: кликните в нужное поле, чтобы появился курсор, и проверьте, что сканер в режиме HID Keyboard.
- Код не находится в поиске: проверьте, что на этикетке напечатан именно «Tag» или тот же «Barcode value», который хранится у актива (Asset → Barcodes).
- QR не читается: увеличьте физический размер печати, печатайте с фоном и без сильной компрессии, обеспечьте освещение.
- Нужно именно «сканировать для фиксации локации»: используйте страницу сканера с камерой — она автоматически пишет историю сканов и локацию.
