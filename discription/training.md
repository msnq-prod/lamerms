# Обучение персонала

Модуль обучения помогает отслеживать прогресс сотрудников по обучающим программам, управлять сертификациями и настраивать доступ к курсам.

## Каталог модулей
- Главная страница `training/index.php` требует право `TRAINING:VIEW`, поддерживает пагинацию и фильтры по должностям, черновым модулям и видимости по группам. 【F:src/training/index.php†L4-L32】
- Модули фильтруются по флагу `modules_visibleToGroups`, чтобы сотрудники видели только релевантные курсы, если у них нет прав редактирования. 【F:src/training/index.php†L23-L27】
- Для каждого модуля вычисляются даты начала и последнего обновления обучения, список завершённых шагов, доступные сертификации и предполагаемое время прохождения. 【F:src/training/index.php†L33-L88】

## Просмотр конкретного модуля
- Контроллер `training/module.php` проверяет видимость, исключает физические модули без шагов и загружает полный список шагов с учётом прав редактирования. 【F:src/training/module.php†L4-L29】
- Пользователи с правом `TRAINING:VIEW:USER_PROGRESS_IN_MODULES` могут переключиться во вкладку пользователей и видеть прогресс всей команды, включая даты и выданные сертификаты. 【F:src/training/module.php†L33-L88】
- Если открыт режим редактирования шагов, модуль рендерит отдельный шаблон `training_steps.twig`; иначе показывается персональный прогресс с уже выполненными шагами. 【F:src/training/module.php†L89-L108】

## Сертификации и доступ
- Список сертификаций сортируется по времени выдачи и содержит информацию о пользователе, выдавшем сертификат, что облегчает аудит. 【F:src/training/index.php†L53-L61】【F:src/training/module.php†L79-L85】
- Флаг `canComplete` не позволяет администраторам случайно закрыть модуль, если они не входят в целевую группу видимости, сохраняя корректность статистики. 【F:src/training/index.php†L80-L85】

## Практические советы
1. Используйте параметр `drafts` для проверки новых программ с командой обучения, не раскрывая их остальным пользователям. 【F:src/training/index.php†L18-L24】
2. Отслеживайте поле `totalTime`, чтобы планировать очные тренинги и распределять нагрузку между сменами. 【F:src/training/index.php†L72-L78】
3. Для ежегодных проверок выгружайте вкладку пользователей в `training/module.php?users=1`, чтобы увидеть, кто нуждается в переподготовке. 【F:src/training/module.php†L33-L88】
